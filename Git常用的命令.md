@[TOC](目录)

## 1.克隆

如果这个项目的代码我们在本地还没有，我们先去GitLab里边找对应的Git地址，然后**Clone**到本地：

```
git clone https://github.com/ITmxs/mygit.git
```

## 2.新建分支

接到了新的需求，我们要**新建**一个分支，然后基于这个分支去开发：

```
git checkout -b feature/sanwaiAddLog
```

在开发的时候，我们肯定会有两个操作：

- 在原来的基础上添加新的文件
- 在原有的文件上修改

## 3.提交

不管怎么样，等我们做到一定程度了，我们都会提交代码。如果我们添加了新的文件，我们需要先`add`，然后再`commit`



```
git add .git commit  -m "try to commit files to GitHub, i am mxs"
```

## 4.提交到远程仓库

假设我们一切顺利，在没人打扰的情况下已经写好了代码了，然后我们会把自己的分支`push`到远程仓库

```
git push
```

## 5.下拉

假设我们写到一半，其他小伙伴已经把他的代码`merge`到主分支了，我们也需要把他最新的 代码给`pull`拉取下来。（可以 git fetch + git merge 替代)

```
git pull
```

如果没有冲突，那git就会把他的代码给`merge`到我当前的分支上。如果有冲突，Git会提醒我去手动解决一下冲突。

## 6.

看Git工作区、暂存区的变更情况（可以知道哪些没有commit、哪些没有被Git追踪）：`git status`

拉取远程最新的变更到本地：`git fetch`

切换分支：`git checkout 分支名`

将代码还原到某个版本(包括工作目录)：`git reset --hard 版本号`

查看Git的提交(commit)记录：`git log`

将代码还原到某个版本后，后悔了，想重新回去，但在提交记录已经找不到了。`git reset --hard` 把`reset 之后的 commit`都给抹杀掉了。找到最近的执行Git命令：`git reflog`

还原到某个版本了，现在我为了稳健，不想再原来的分支上修改了，再**新建一个分支**吧（`-b` 参数把当前分支切换到了要创建的分支上）：`git checkout -b 分支名`

我们把上一次还是”相对稳健“的分支合并到我新建的分支上：`git merge 分支`

突然想看看现在有多少个分支：`git branch -a`

新增几个文件了，随手`git add`一下吧

改得差不多了，随手`git commit -m`一下吧，最好还是**写好备注**，不然以后等改多了，你都不知道你改了什么啦。

改完了，提交到远程吧：`git push`

想把远程分支最新的代码给拉下来，然后合并到本地上。我们可以用`git fetch`和`git merge`来实现，也可以通过`git pull`来实现。一般我用的都是`git fetch`+`git merge`，这样会更加**可控**一些

有的时候，本地分支在master分支，然后忘了切其他的分支去修改，直接在master改了，然后也push到远程了。等你发现的时候，你会真的想骂自己。

咋办？最简单的办法其实我们还是可以`git reset --hard`到对应的版本，然后将其修改或者复原，再强制提交到`master`分支：`git push -u origin/master -f`

## 7.切换分支

假设我们写到一半了，现在工作区的代码都已经`commit`了。此时同事说要不帮忙一起排查一个问题，同事一般用的是**自己分支**，于是就得问他：你用的哪个分支啊？于是得把他的分支给拉下来，看看他的代码哪儿有问题

```
git fecth -- 手动拉取远程仓库更新的信息git checkout  分支名   -- 切换到他的分支
```

现在切换到他的分支，相当于你的环境跟他的环境是一模一样的，于是就可以愉快地一起看Bug了。

## 8.暂存

假设我们写到一半了，现在工作区的代码还没`commit`。现在有同事说要排查问题或者一个新的Bug被发现了，要紧急切换到其他的分支。现在我又不想`commit`（我就写了一半，编译还报着错误，没理由让我`commit`吧）。

这时，我会把工作区的代码先`stash`到暂存区给保存起来，然后就可以愉快地切换其他的分支了。

```
git stash
```

等我解决完另一个bug或者帮别人看完问题了，我再把刚刚保存在暂存区的代码给捞出来，继续干活

```
git stash pop
```

## 9.返回

我一直在修Bug，现在的分支已经被我搞得人摸鬼样了，我非常难受，甚至不知道自己在这个过程中改了多少东西了。

思路已经完全被打乱了，我想回到一个稳定的`commit`重新出发，重来吧（通过下面的命令，把工作区的代码都改成对应commit的代码了）。

```
git reset --hard  版本号
```

## 10 查看版本号

那我怎么找到版本号呢？Git也是有日志的：

```
git log --pretty=oneline
```




